# 给灯加个开关吧

## 一、认识触碰传感器

上节，我们认识了LED灯的使用，可以通过编程的方式随心所欲遇的控制LED灯了。本节，我们来尝试给LED灯添加一个开关。在OSTD开源机器人套装中，可以使用`触碰传感器`来作为开关，如下图所示。

![触碰传感器](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210406151151.png)



## 二、获取开关的信息

其实对于主控板来说，`触碰传感器`属于`输入设备`，即给主控板提供是否按下得信号，如何来获取`触碰传感器`的信息呢？首先要将传感器连接到主控板，如下图所示：

![连接示意图](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210406152144.png)



硬件连接好后，在xding软件中，可以用如下控件来获取`触碰传感器`的数据。

![触碰传感器指令](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210406141650.png)

我们可以发现这个控件的形状是一个扁扁的六边形，在Scratch编程中这种形状的控件叫逻辑判断指令，它只会返回两种情况（`成立true`/`不成立false`），可以在脚本区单击指令查看当前的返回值，如下图所示。

![触碰传感器控件返回值](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210406150613.png)

如果觉得单击控件不方便，我们可以利用变量来存放传感器返回的数据，搭建如下的输入脚本：

![输入脚本参考](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210406161118.png)

【视频演示】仔细观察视频中的变量数据哦！

从视频中我们可以看出，当按下触碰传感器时，变量中数字是`1`；未按下时，变量中数字是`0`。其实这里的`1`和`0`，就对于`成立true`和`不成立false`。（很多编程语言中，如C语言`1`就代表`ture`，`0`就代表`false`）。

|                | 按下触碰传感器时 | 未按下触碰传感器时 |
| :------------: | :--------------: | :----------------: |
| 直接单击返回值 |       true       |       false        |
| 在变量中返回值 |        1         |         0          |



## 三、用开关控制LED灯

知道了`触碰传感器`的返回值，便可以设计`触碰传感器`作为控制LED灯的开关。由于按下`触碰传感器`之后，传感器的触碰结构马上就弹起，我们可以设计两种不同的开灯方式。

### 编程任务1：按住才亮灯

* **编程提示**：功能设计为`1`就开灯，`0`就关灯。

* **演示效果**：

* **参考脚本**：

  ![按住亮灯参考脚本](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210408085048.png)

### 编程任务2：按一下开灯，按一下关灯

* **编程提示**：由于每次按下传感器后，返回值都会从`0`变成`1`，抬起后返回值又从`1`变成`0`。即把传感器作为开关用，传感器返回值会有2次变化。

* **演示效果**

* **参考脚本**：

  ![开关灯参考脚本](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210408085112.png)

