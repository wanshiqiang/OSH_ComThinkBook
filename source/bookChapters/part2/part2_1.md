# 认识LED灯

## 一、初识LED灯
&emsp;&emsp;`LED灯`是一种能够将电能转化为可见光的固态的半导体器件，它可以直接把电转化为光。LED灯逐步融入到生活中的方方面面：室内外的照明、电子指示牌、酷炫的舞台灯光、车辆的转向灯等等都有`LED`的存在。

![生活中的LED灯](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210302095508.png)

&emsp;&emsp;从信息的视角看，`LED灯`是一种`输出装置`，除了可以照明以外，也可以作为机器表达信息的一种方式。本节我们就来学习使用`LED灯`。

&emsp;&emsp;在开源硬件中LED灯的样式很多，如下图所示。为了便于低年级学生使用，在很多开源硬件套件中，LED灯的连接都采用`RJ45接口`（俗称水晶头借口）封装。

![LED灯示例](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210302095656.png)



## 二、控制LED灯
&emsp;&emsp;`LED灯`的基本使用无非是控制灯的开和关。有人会说这个简单啊，只需要将`LED灯`的正负极连接到电源上，灯不就可以亮了，断开电路灯不就熄灭了。

![LED灯直接连接电源](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210302095622.png)

&emsp;&emsp;确实如此，这种控制LED灯的方式是`物理控制`。但`LED灯`作为`开源硬件`的一种`输出设备`时，我们往往在连接好电路后，不会使用`物理控制`，更高级的做法是利用编程指令来控制`LED灯`线路上的高低电压，从而改变灯的明暗，即`编程控制`。

&emsp;&emsp;要想进行`编程控制`，首先要将LED灯连接到开源硬件主控板上，以OSTD主控板为例，连接方法如下图所示：

![LED灯连接OSTD主控板](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210302142700.png)

&emsp;&emsp;完成了LED灯的连接后，我们就可以通过编程指令来控制LED灯了。OSTD套装中的编程指令如下图所示，该指令有两个`参数`需要填写。

- 第1个参数是接口，有六个选项，分别对应主板上的六个橙色`RJ45接口`。
- 第2个参数是电平，有两种选项（高/低），可以让设置的接口输出高/低电平。
  - 高电平：会有较高的电流从相应接口输出，与之连接的LED灯会点亮。
  - 低电平：不会有较高的电流从相应接口输出，与之连接的LED灯不会点亮。

![OSTD套装控制LED灯指令](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210301163314.png)

## 三、LED灯编程

&emsp;&emsp;到此你应该可以通过`编程指令`来控制LED灯了吧。下面我们来通过两个编程任务来体会`编程控制`与`物理控制`相比的优势吧。

### 任务1.闪烁的LED灯

&emsp;&emsp;**任务介绍**：LED灯作为一种输出装置，我们可以用它来表达信息，单个LED灯可以通过闪烁来表达信息，在不同的场景下可以有不同的含义，如火灾报警器上，LED灯的快闪可以作为警示信号；而LED灯在机器人眼部的闪烁可以作为机器人“眨眼睛”的信息表达。

&emsp;&emsp;**任务要求**：能够控制LED灯按照指定的时间间隔来闪烁。

&emsp;&emsp;**编程脚本**：

![闪烁的LED灯脚本OSTD版](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210302145011.png)

&emsp;&emsp;**编程解析**：程序开始运行后，反复切换高低电平，等待时间中的秒数可以根据实际需要修改，从而控制LED灯的闪烁频率。

### 任务2.流光溢彩的流水灯

&emsp;&emsp;**任务介绍**：当有多个LED灯的时候，我们便可以制作流水灯的特效。这在电子指示牌、汽车转向灯等装置中可以增强指示信号的表达。

&emsp;&emsp;**任务要求**：能够控制LED灯组（3个或以上）按照一定的方向依次点亮，并循环往复。

&emsp;&emsp;**编程脚本**：

![流水灯脚本](https://gitee.com/wansq0211/markdownImg/raw/master/img/20210302145640.png)

&emsp;&emsp;**编程解析**：每一时刻需要同时控制所有灯的状态。如一开始只有接口4的灯亮，下一个状态（当0.5秒后）只有接口5的灯亮，其他的要设置为低电平。

### 拓展任务：美轮美奂的呼吸灯

&emsp;&emsp;**任务介绍**：当有多个LED灯的时候，我们便可以制作流水灯的特效。这在电子指示牌、汽车转向灯等装置中可以增强指示信号的表达。

&emsp;&emsp;**任务要求**：能够控制一个LED灯的亮度由暗到亮逐步变化，再由亮到暗逐步变化，类似呼吸的节奏。

&emsp;&emsp;**难点提示**：

&emsp;&emsp;**编程脚本**：

&emsp;&emsp;**编程解析**：